<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Money Transfer</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
<meta charset="ISO-8859-1">

<script>
   
        function clearText(){
        	   //span
        	  document.getElementById("amountError").innerHTML="";
        	  document.getElementById("descriptionError").innerHTML="";
        	  document.getElementById("genMessage").innerHTML="";
        }
   
         function validateFunds() {
        	   var amountObj=document.getElementById("amount");
        	   var formattedMoney=amountObj.value;
        	   if(formattedMoney.length<0 || formattedMoney==null){
        		     document.getElementById("amountError").innerHTML="Please Enter the Amount.";
        		     amountObj.focus();
        		     return;
        	   }
        	   var descriptionObj=document.getElementById("description");
               var descriptionText=descriptionObj.value;
               if(descriptionText.length<=4){
                     document.getElementById("descriptionError").innerHTML="What is the Amount for?";
                     descriptionObj.focus();
                     return;
               }
               //THis submitting the form
               document.fundForm.submit();
        	   
         }  
         
 </script>
<title>Money Transfer</title>

<style>
.ffooter {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  background-color: red;
  color: white;
  text-align: center;
  height: 30px;
  background-color:#e9ffe7;
}
</style>
</head>
<body>
<header style="height: 30px;background-color: maroon;color:white;">
  Hello Mr. <span th:utext="${session.userSessionVO.username}" th:unless="${session == null}" style="font-weight: bold;"></span>
   
</header>
<div th:replace="/customer/header :: header"></div>
<div class="container">
  <h2>Manage Payee Data Table
  </h2>
  <!-- <a th:href="@{/customer/addPayee}">
  <button type="button" class="btn btn-success">Add Payee</button>
 </a>
 
 <a th:href="@{/customer/dashboard}">
    <button type="button" class="btn btn-secondary" >Dashboard</button>
    </a>
 
 <a th:href="@{/customer/logout}"> 
<button type="button" class="btn btn-warning">Logout</button>
</a> -->
<br/>
<span th:utext="${message}" style="color: blue;font-size: 18px; font-weight: bold;"></span>
<div th:if="${payeeInfoList !=null}" style="wide:100%"> <!-- id="payeeForm" onsubmit="return false" name="payeeForm" -->
<form id="fundForm" onsubmit="return false" name="fundForm" action="#" method="post"  th:action="@{/customer/account/moneyTransfered}" >

<div class="form-group col-md-4">Beneficiary Details:
<select class="form-control" name="payeeId">
<option th:each="peya : ${payeeInfoList}" name="payeeId" th:value="${peya.id}" th:text="${peya.payeeNickName}"></option>
</select>
</div>

<div class="form-group col-md-4">Amount to Transfer: 
<input type="number" class="form-control" name="amount" id="amount" onkeyup="clearText()"/>
<span style="color: red; font-size: 18px; font-weight:bold;" id="amountError"></span>
</div>

<div class="form-group col-md-4">Description: 
<input type="text" class="form-control" name="description" id="description" onkeyup="clearText()"/>
<span style="color: red; font-size: 18px; font-weight:bold;" id="descriptionError"></span>
</div>
<button type="button" class="btn btn-primary" onclick="validateFunds()">Confirm & Transfer</button>
</form>
</div>
<div th:if="${payeeInfoList.empty}"><br><br>
<p><strong>You Do Not Have Any Beneficiary at the Moment, please add Beneficiaries to be shown.</strong>
</div>
</div>
</body>
</html>